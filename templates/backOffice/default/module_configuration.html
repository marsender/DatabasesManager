{*************************************************************************************}
{*                                                                                   *}
{*    DatabasesManager - A Thelia 2 databases manager module                         *}
{*    Copyright (C) 2015 Jérôme BILLIRAS                                             *}
{*                                                                                   *}
{*    This file is part of DatabasesManager.                                         *}
{*                                                                                   *}
{*    DatabasesManager is free software: you can redistribute it and/or modify       *}
{*    it under the terms of the GNU Lesser General Public License as published by    *}
{*    the Free Software Foundation, either version 3 of the License, or              *}
{*    any later version.                                                             *}
{*                                                                                   *}
{*    DatabasesManager is distributed in the hope that it will be useful,            *}
{*    but WITHOUT ANY WARRANTY; without even the implied warranty of                 *}
{*    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the                  *}
{*    GNU Lesser General Public License for more details.                            *}
{*                                                                                   *}
{*    You should have received a copy of the GNU Lesser General Public License       *}
{*    along with this program. If not, see <http://www.gnu.org/licenses/>.           *}
{*                                                                                   *}
{*************************************************************************************}

<div class="general-block-decorator">
    {flash type="databasesmanager.delete.error"}
        <div class="col-xs-12 alert alert-danger">
            {$MESSAGE}
        </div>
    {/flash}

    {flash type="databasesmanager.delete.success"}
        <div class="col-xs-12 alert alert-success">
            {$MESSAGE}
        </div>
    {/flash}

    <div class="row">
        <div class="col-xs-12 title title-without-tabs clearfix">
            {intl l="SHARED_VIEW_TITLE" d="databasesmanager"}
            {loop type="auth" name="auth-add" role="ADMIN" resource="admin.module" module="databasesmanager" access="CREATE"}
                <div class="pull-right">
                    <a class="btn btn-primary" href="#add-database-shared-config-dialog" title="{intl l="ADD_BUTTON" d="databasesmanager"}" data-toggle="modal"><span class="glyphicon glyphicon-plus"></span></a>
                </div>
            {/loop}
        </div>
    </div>

    {include file="includes/config_table.html"}
    {include file="includes/add_modal.html"}
    {include file="includes/edit_modal.html"}
    {include file="includes/delete_modal.html"}

    <div class="row">
        <div class="col-xs-12 title title-without-tabs clearfix">
            {intl l="ENV_VIEW_TITLE" d="databasesmanager" env=$kernelEnvironment}
            {loop type="auth" name="auth-add" role="ADMIN" resource="admin.module" module="databasesmanager" access="CREATE"}
                <div class="pull-right">
                    <a class="btn btn-primary" href="#add-database-env-config-dialog" title="{intl l="ADD_BUTTON" d="databasesmanager"}" data-toggle="modal"><span class="glyphicon glyphicon-plus"></span></a>
                </div>
            {/loop}
        </div>
    </div>

    {include file="includes/config_table.html" currentEnv=true}
    {include file="includes/add_modal.html" currentEnv=true env=$kernelEnvironment}
    {include file="includes/edit_modal.html" currentEnv=true env=$kernelEnvironment}
    {include file="includes/delete_modal.html" currentEnv=true env=$kernelEnvironment}
</div>
